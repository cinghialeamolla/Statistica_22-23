####### prima lezione

q()  # serve per chiudere le finestre di lavoro

ls()  # serve per mostrare quali oggetti ci sono nel nostro spazio di lavoro

rm()  # serve a cancellare 1 o + oggetti nel workspace; l'oggetto da cancellare va tra ()

rm(list=ls())  # rimuove TUTTO quello che c'è nel w.s.

save(object1, object2, file="filename.rda")  #salva gli oggettimnominati nel file "filename" in estensione .rda


####### seconda lezione 28/11/2023

numeri <- c(1, 2, 3)
numeri
str(numeri)
# num [1:3] 1 2 3

colori <- c("rosso", "giallo", "verde")
colori
# [1] "rosso"  "giallo" "verde" 

logico <- c(T, F)
logico
# [1]  TRUE FALSE
str(logico)
# logi [1:2] TRUE FALSE

#creazione matrice
X <- matrix(c(3,0,6,0,6,9), nrow=3, ncol=2)
X
#      [,1] [,2]
# [1,]    3    0
# [2,]    0    6
# [3,]    6    9
str(X)
# num [1:3, 1:2] 3 0 6 0 6 9

colori[2]  #chiedere quale elemento occupa la seconda posizione nell'oggetto "colori"
# [1] "giallo"

colori[c(1,3)] #chiedere quali elementi occupano la prima e la terza posizione nell'oggetto "colori"
# [1] "rosso" "verde"

colori[-c(1,3)]  # quali sono gli elementi che NON sono in posizione 1 e 3
# [1] "giallo"


which(colori=="giallo")  # a che indice corrisponde l'elemento giallo nel vettore colori
# [1] 2
which(colori=="nero")
# integer(0)  #nero non è un elemento del vettore "colori"

numeri[1] <- 100   # assegnare il numero 100 al vettore "numeri" nell'indice 1
numeri
# [1] 100   2   3

X[1,1] <- 100  # assegnare il numero 100 alla matrice "X" in posizione 1,1 (1 riga, 1 colonna)
X
#      [,1] [,2]
# [1,]  100    0
# [2,]    0    6
# [3,]    6    9

data.entry(numeri)  # apre un'interfaccia grafica simile a excel da cui si possono modificare gli elementi del vettore, ma NON inserire nuove variabili!
data.entry(X)  # apre un'interfaccia grafica simile a excel da cui si possono modificare gli elementi della matrice, cambia anche il tipo di valore (character, numeric, ecc)

fix(numeri) # apre una finestra da cui si possono cambiare gli elementi del vettore "numeri"
fix(X)    # apre una finestra da cui si possono cambiare gli elementi della matrice "X" (in questo caso, apre l'editor del data.entry)

setwd("C:/statistica_23_24/")               # settare la directory "R" posizionata su "C"
read.table("tabella.txt")    # per leggere i dati sul file.txt

#  V1 V2  V3        # -> nomi assunti dalle variabili; 1,2,3,4   ->numero di righe
# 1 X1 X2  X3
# 2  1 10 100
# 3  2 20 200
# 4  3 30 300

read.table("tabella.txt", header=T)   # legge il file, ma la prima riga sono le etichette delle variabili

#   X1 X2  X3
# 1  1 10 100
# 2  2 20 200
# 3  3 30 300

 read.csv2("statisticaconR.csv")        # legge il file csv (delimitato da separatore di elenco), la prima riga sono di default le etichette delle variabili

#    X1  X2  X3  X4
#  1 25  30  45  50
#  2 10 100 150 200

dati2_statisticaconR <- read.csv2("statisticaconR.csv")   # assegna un nome al file letto su R

write.csv2(dati2_statisticaconR, file="esportato")  # salvare in formato excel un oggetto

read.csv2("FacoltàEconomia_2007.csv", row.names=1)   # esercizio in classe: row.names imposta come prima colonna i valori presenti (senza aggiungere 1,2,3,ecc)
read.csv2("FacoltàEconomia_2008.csv", row.names=1)


####### terza lezione 

ECONOMIA2007 <- read.csv2("FacoltàEconomia_2007.csv", row.names=1)   
ECONOMIA2008 <- read.csv2("FacoltàEconomia_2008.csv", row.names=1)

ECONOMIA2007[1:3,1:5]  # serve per vedere le prime 3 osservazioni (università) delle prime 5 variabili (parametri in colonna)

str(ECONOMIA2007)  # per vedere la struttura del file

# per chiedere cosa contengono le singole variabili:

str(ECONOMIA2007$Iscritti)   # 
str(ECONOMIA2007$Erasmus)
str(ECONOMIA2007$Studenti)  
#  int [1:56] 56 72 51 80 48 70 55 64 41 45 ...   # integer

# OPERAZIONI ARITMETICHE SUI VETTORI
numeri<-c(1,2,3)      # creo il vettore
numerisomma<-numeri+1    # Sommiamo il numero 1 al vettore numeri e lo assegniamo al vettore numerisomma
numerisomma

numerisottrazione<-numeri-1   # Sottraiamo il numero 1 al vettore numeri e lo assegniamo al vettore numerisottrazione
numerisottrazione

numerimoltiplicazione<-numeri*2     # Moltiplichiamo lo scalare 2 per il vettore numeri e lo assegniamo al vettore numerimoltiplicazione
numerimoltiplicazione

numeridivisione<-numeri/2       # dividiamo il vettore numeri per lo scalare 2 e lo assegniamo al vettore numeridivisione
numeridivisione

# OPERAZIONI ARITMETICHE TRA VETTORI
# I due vettori devono avere la stessa lunghezza o comunque la dimensione del vettore minore deve essere un sottomultiplo di quello dell’altro

numeri2 <- c(1:6)    # vettore formato da numeri da 1 a 6 
numeri+numeri2       # somma dei due vettori

numeri3<-c(1:4)      # vettore con numeri da 1 a 4 (non sottomultiplo del vettore "numeri")
numeri+numeri3       # il sistema da un warning  

# SEQUENZE REGOLARI DI VALORI CRESCENTI/DECRESCENTI
1:5
# [1] 1 2 3 4 5
5:1
# [1] 5 4 3 2 1

#  VALORI MANCANTI
is.na(ECONOMIA2007)   # genera un vettore logico di uguale lunghezza del vettore passato in argomento, con valori TRUE se mancanti e FALSE se presenti

# i dati mancanti vanno eliminati o sostituiti
PROVA<-c(1,1,NA,NA)   # creo il vettore "PROVA"

# ELIMINARE
PROVA1<-PROVA[!is.na(PROVA)]     # costruire un nuovo vettore PROVA1, così il vettore PROVA1 conterrà solo valori validi

# SOSTITUIRE
PROVA[is.na(PROVA)]<-0           # Sostituisce con degli zero i valori mancanti al vettore "PROVA"

# STATISTICHE DESCRITTIVE

# calcolare le principali statistiche descrittive del dataset ECONOMIA2007

attach(ECONOMIA2007)  # Per poter lavorare con le variabili contenute neldataset

detach(ECONOMIA2007)  # alla fine del nostro lavoro

# 1) La funzione min( ) individua il valore più PICCOLO contenuto nel vettore passato in argomento  
attach(ECONOMIA2007)
min(Iscritti)
# [1] 590

# 2) La funzione max( ) individua il valore più GRANDE contenuto nel vettore passato in argomento
max(Iscritti)
# [1] 12520

# 3) La funzione mean( ) calcola la MEDIA ARITMETICA dei valori del vettore passato in argomento
mean(Iscritti) 
# [1] 4010.518

# 4) La funzione median( ) calcola la MEDIANA dei valori del vettore passato in argomento
median(Iscritti)
# [1] 3275















